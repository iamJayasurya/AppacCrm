{"ast":null,"code":"var _jsxFileName = \"F:\\\\crm01\\\\appac-crm\\\\src\\\\component\\\\DailyReport.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Chart from './Chart';\nimport ReportTable from './ReportTable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DailyReport() {\n  _s();\n  const [reportData, setReport] = useState([]);\n  const [formData, setFormData] = useState({\n    reportdate: \"\",\n    Client: \"\",\n    startEnd: \"\",\n    Totalhrs: \"\",\n    status: \"\",\n    description: \"\",\n    id: \"\" // Added id for editing\n  });\n\n  // Handle input changes\n  const handleChange = event => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = event.target;\n    setFormData(prevState => ({\n      ...prevState,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  // Submit form data\n  const submitForm = () => {\n    const url = formData.id ? 'http://localhost:8000/testapi/v1/dailyreport/edit' : 'http://localhost:8000/testapi/v1/dailyreport/today';\n    const method = formData.id ? 'PUT' : 'POST'; // Use PUT for updates\n\n    fetch(url, {\n      method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(formData)\n    }).then(response => response.json()).then(data => {\n      if (formData.id) {\n        // Update existing report\n        setReport(reportData => reportData.map(r => r.id === data.id ? data : r));\n        alert('Report is updated');\n      } else {\n        // Add new report\n        setReport(reportData => [...reportData, data]);\n        alert('Report is Submitted');\n      }\n      // Clear the form data after submission\n      setFormData({\n        reportdate: \"\",\n        Client: \"\",\n        startEnd: \"\",\n        Totalhrs: \"\",\n        status: \"\",\n        description: \"\",\n        id: \"\"\n      });\n    }).catch(error => console.error('Error submitting report:', error));\n  };\n\n  // Fetch reports on component mount\n  useEffect(() => {\n    fetch('http://localhost:8000/testapi/v1/dailyreport').then(res => res.json()).then(res => setReport(res.data)).catch(error => console.error('Error fetching report data:', error));\n  }, []);\n\n  // Populate form for editing\n  const onEdit = report => {\n    setFormData({\n      ...report,\n      reportdate: report.reportdate.split('-').reverse().join('-') // Adjust format if needed\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profiled sub-pages\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-sts\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"works-table\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Sno.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Report Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Client\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Start / End Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Total Hours\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: reportData.map((data, index) => /*#__PURE__*/_jsxDEV(ReportTable, {\n              index: index,\n              reportdata: data,\n              onEdit: onEdit\n            }, data.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(DailyReport, \"AXxoH/gitU7gJ3MIKl4+YDFFn+Q=\");\n_c = DailyReport;\nexport default DailyReport;\nvar _c;\n$RefreshReg$(_c, \"DailyReport\");","map":{"version":3,"names":["React","useEffect","useState","Link","Chart","ReportTable","jsxDEV","_jsxDEV","DailyReport","_s","reportData","setReport","formData","setFormData","reportdate","Client","startEnd","Totalhrs","status","description","id","handleChange","event","name","value","type","checked","target","prevState","submitForm","url","method","fetch","headers","body","JSON","stringify","then","response","json","data","map","r","alert","catch","error","console","res","onEdit","report","split","reverse","join","className","children","fileName","_jsxFileName","lineNumber","columnNumber","index","reportdata","_c","$RefreshReg$"],"sources":["F:/crm01/appac-crm/src/component/DailyReport.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Chart from './Chart';\r\nimport ReportTable from './ReportTable';\r\n\r\nfunction DailyReport() {\r\n  const [reportData, setReport] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    reportdate: \"\",\r\n    Client: \"\",\r\n    startEnd: \"\",\r\n    Totalhrs: \"\",\r\n    status: \"\",\r\n    description: \"\",\r\n    id: \"\" // Added id for editing\r\n  });\r\n\r\n  // Handle input changes\r\n  const handleChange = (event) => {\r\n    const { name, value, type, checked } = event.target;\r\n    setFormData(prevState => ({\r\n      ...prevState,\r\n      [name]: type === 'checkbox' ? checked : value,\r\n    }));\r\n  };\r\n\r\n  // Submit form data\r\n  const submitForm = () => {\r\n    const url = formData.id \r\n      ? 'http://localhost:8000/testapi/v1/dailyreport/edit' \r\n      : 'http://localhost:8000/testapi/v1/dailyreport/today';\r\n    const method = formData.id ? 'PUT' : 'POST'; // Use PUT for updates\r\n\r\n    fetch(url, {\r\n      method,\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(formData)\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      if (formData.id) {\r\n        // Update existing report\r\n        setReport(reportData => reportData.map(r => r.id === data.id ? data : r));\r\n        alert('Report is updated');\r\n      } else {\r\n        // Add new report\r\n        setReport(reportData => [...reportData, data]);\r\n        alert('Report is Submitted');\r\n      }\r\n      // Clear the form data after submission\r\n      setFormData({\r\n        reportdate: \"\",\r\n        Client: \"\",\r\n        startEnd: \"\",\r\n        Totalhrs: \"\",\r\n        status: \"\",\r\n        description: \"\",\r\n        id: \"\"\r\n      });\r\n    })\r\n    .catch(error => console.error('Error submitting report:', error));\r\n  };\r\n\r\n  // Fetch reports on component mount\r\n  useEffect(() => {\r\n    fetch('http://localhost:8000/testapi/v1/dailyreport')\r\n      .then(res => res.json())\r\n      .then(res => setReport(res.data))\r\n      .catch(error => console.error('Error fetching report data:', error));\r\n  }, []);\r\n\r\n  // Populate form for editing\r\n  const onEdit = (report) => {\r\n    setFormData({\r\n      ...report,\r\n      reportdate: report.reportdate.split('-').reverse().join('-') // Adjust format if needed\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"profiled sub-pages\">\r\n      {/* Your existing JSX */}\r\n      <div className=\"report-sts\">\r\n        {/* Other components */}\r\n        <div className=\"works-table\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Sno.</th>\r\n                <th>Report Date</th>\r\n                <th>Client</th>\r\n                <th>Start / End Time</th>\r\n                <th>Total Hours</th>\r\n                <th>Description</th>\r\n                <th>Status</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {reportData.map((data, index) => (\r\n                <ReportTable \r\n                  key={data.id} \r\n                  index={index} \r\n                  reportdata={data} \r\n                  onEdit={onEdit} \r\n                />\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DailyReport;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}